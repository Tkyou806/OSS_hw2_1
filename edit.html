<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
        <link href="./my.css" rel="stylesheet">
</head>

<body>
    <div class="container">
        <div class="display-6">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQpFWAivrIsqUnj8i8wdFxsP-fhywLRhY26RA&s"
                style="width: 40px;">

            CD rental shop

        </div><br>

        <!--Form받는 거 만들자.-->
        <form class="row g-3 needs-validation" id="my_form" novalidate>
            <div class="col-md-4">
                <label for="title" class="form-label">Title</label>
                <input type="text" class="form-control" id="title" required>
                <div class="invalid-feedback">
                    Please input title.
                </div>
            </div>
            <div class="col-md-3">
                <label for="rate" class="form-label">Rate</label>
                <select class="form-select" id="rate" required>
                    <option selected disabled value="">Choose...</option>
                    <option>*</option>
                    <option>**</option>
                    <option>***</option>
                    <option>****</option>
                    <option>*****</option>
                </select>
                <div class="invalid-feedback">
                    Please select a valid state.
                </div>
            </div>
            <div class="col-md-4">
                <label for="director" class="form-label">Director</label>
                <div class="input-group has-validation">
                    <input type="text" class="form-control" id="director" required>
                    <div class="invalid-feedback">
                        Please input director name.
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <label for="price" class="form-label">Price per day</label>
                <input type="number" class="form-control" id="price" required>
                <div class="invalid-feedback">
                    Please input price.
                </div>
            </div>

            <div class="col-md-6">
                <label for="janre" class="form-label">Janre</label>
                <input type="text" class="form-control" id="janre" required>
                <div class="invalid-feedback">
                    Please input janre.
                </div>
            </div>

            <div class="col-md-3">
                <label for="nation" class="form-label">Nation</label>
                <input type="text" class="form-control" id="nation" required>
                <div class="invalid-feedback">
                    Please input the nation of work.
                </div>
            </div>

            <div class="col-md-3">
                <label for="state" class="form-label">State</label>
                <select class="form-select" id="state" required>
                    <option selected disabled>Choose...</option>
                    <option>대출 가능</option>
                    <option>대출 불가</option>
                </select>
                <div class="invalid-feedback">
                    Please select a valid state.
                </div>
            </div>

            <div class="col-12">
                <button class="btn btn-primary edit" type="submit" id="submited" onclick="confirm('수정하시겠습니까?')">확인</button>
                <button class="btn btn-primary edit" type="button" onclick="location.href='index.html'">취소</button>
            </div>
        </form>
        <br><br><br><br>

        <script>

            (() => {
                'use strict'

                const forms = document.querySelectorAll('.needs-validation')

                //다 확인 후 넘어가게 만들기
                Array.from(forms).forEach(form => {
                    form.addEventListener('submit', event => {
                        if (!form.checkValidity()) {
                            event.preventDefault()
                            event.stopPropagation()
                        }

                        form.classList.add('was-validated')
                    }, false)
                })


            })()



            // sessionStorage에서 저장된 데이터를 가져오기
            let title = sessionStorage.getItem('title');
            let rate = sessionStorage.getItem('rate');
            let director = sessionStorage.getItem('director');
            let price = sessionStorage.getItem('price');
            let janre = sessionStorage.getItem('janre');
            let nation = sessionStorage.getItem('nation');

            // 가져온 데이터를 현재 페이지에 표시하자
            document.getElementById('title').value = title ? title : '';
            document.getElementById('rate').value = rate ? rate : '';
            document.getElementById('director').value = director ? director : '';
            document.getElementById('price').value = price ? price : '';
            document.getElementById('janre').value = janre ? janre : '';
            document.getElementById('nation').value = nation ? nation : '';
            

            


        </script>
    </div>
</body>


</html>